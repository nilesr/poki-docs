<!doctype html>
<html>
	<head>
		<script>
			var ol = function ol() {
				var socket = new WebSocket('ws://localhost:8080');
				socket.onopen = function socket_onopen(_) {
					// TODO save/restore scroll position
					socket.onmessage = function socket_onmessage(e) {
						console.log('Client received a message',e);
						var c = document.getElementById("container");
						c.innerHTML = e.data;
						while (c.children[0].tagName != "HR") {
							c.children[0].outerHTML = "";
						}
						// drop the hr too
						c.children[0].outerHTML = "";
						Array.prototype.slice.call(c.getElementsByTagName("i"), 0).forEach(function(elem) {
							// TODO make bold, remove italics
						});
					};
				};
			}
		</script>
		<style>
		body {
			color: #878787;
			background-color: #141414;
			font-family: monospace;
		}
		h2 {
			font-size: inherit;
				margin: 0;
		}
		</style>
	</head>
	<body onLoad='ol()'>
		<div id="container"></div>
	</body>
</html>
